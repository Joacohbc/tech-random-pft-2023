<ui:composition template="/layouts/default.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


	<ui:define name="content">
		<f:event type="preRenderView"
			listener="#{mantenimientoConstanciaBean.checkUser}" />

		<h:form id="form" enctype="multipart/form-data">
			<div class="grid">
				<p:panel class="col-6 mt-4"
					header="CreaciÃ³n de Plantilla de Constancia">
					<div class="flex justify-content-center flex-column ">
						<h5>Titulo</h5>
						<p:inputText value="#{mantenimientoConstanciaBean.titulo}" />

						<h5>Parrafo 1</h5>
						<p:inputTextarea rows="6" cols="40"
							value="#{mantenimientoConstanciaBean.parrafo1}" />

						<h5>Parrafo 2</h5>
						<p:inputTextarea rows="6" cols="40"
							value="#{mantenimientoConstanciaBean.parrafo2}" />

						<h5>Plantilla del Documento</h5>

						<p:fileUpload value="#{mantenimientoConstanciaBean.file}"
							mode="simple" skinSimple="true" />

						<p:commandButton value="Subir plantilla de documento" ajax="false"
							action="#{mantenimientoConstanciaBean.upload}"
							styleClass="mt-3 ui-button-outlined block" />

						<p:separator />

						<p:commandButton value="Descargar Plantilla" ajax="false"
							onclick="PrimeFaces.monitorDownload(start, stop);"
							icon="pi pi-arrow-down" styleClass="mr-2"
							disabled="#{mantenimientoConstanciaBean.fileDownloaded == null}">
							<p:fileDownload
								value="#{mantenimientoConstanciaBean.fileDownloaded}" />
						</p:commandButton>
					</div>
				</p:panel>

				<p:panel class="col-6 mt-4" header="Instrucciones de uso">
					<ui:repeat value="#{mantenimientoConstanciaBean.infoParseada}" var="entry">
						<h3>#{entry.key}</h3>
						<ul>
							<ui:repeat value="#{entry.value}" var="item">
								<li>#{item}</li>
							</ui:repeat>
						</ul>
					</ui:repeat>
				</p:panel>
			</div>
		</h:form>

	</ui:define>

</ui:composition>